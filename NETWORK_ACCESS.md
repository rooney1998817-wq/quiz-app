# 外部デバイスからのアクセス方法

## 前提条件

- PCと携帯電話が**同じWi-Fiネットワーク**に接続されている必要があります
- Windowsファイアウォールでポート3000が許可されている必要があります

## 手順

### 1. 開発サーバーをネットワークアクセス可能にする

通常の`npm run dev`の代わりに、以下のコマンドを使用してください：

```bash
npm run dev:network
```

または直接：

```bash
next dev -H 0.0.0.0
```

これにより、開発サーバーがすべてのネットワークインターフェースでリッスンするようになります。

### 2. PCのIPアドレスを確認

現在のIPアドレス: **192.168.1.23**

IPアドレスを確認するには：
```bash
ipconfig
```
「IPv4 アドレス」の値を確認してください。

### 3. 携帯電話からアクセス

携帯電話のブラウザで以下のURLにアクセス：

```
http://192.168.1.23:3000
```

または、各画面に直接アクセス：
- 司会者画面: `http://192.168.1.23:3000/admin`
- 参加者画面: `http://192.168.1.23:3000/join?room=<room_id>`
- スクリーン画面: `http://192.168.1.23:3000/screen?room=<room_id>`

### 4. ファイアウォールの設定（必要に応じて）

Windowsファイアウォールでポート3000がブロックされている場合：

1. 「Windows Defender ファイアウォール」を開く
2. 「詳細設定」をクリック
3. 「受信の規則」→「新しい規則」
4. 「ポート」を選択
5. TCP、特定のローカルポート「3000」を入力
6. 「接続を許可する」を選択
7. すべてのプロファイルに適用
8. 名前を「Next.js Dev Server」などに設定

または、PowerShellで管理者権限で実行：

```powershell
New-NetFirewallRule -DisplayName "Next.js Dev Server" -Direction Inbound -LocalPort 3000 -Protocol TCP -Action Allow
```

## トラブルシューティング

### 接続できない場合

1. **同じWi-Fiネットワークに接続されているか確認**
   - PCと携帯電話が同じWi-Fiに接続されている必要があります

2. **IPアドレスが正しいか確認**
   - `ipconfig`でIPアドレスを再確認してください
   - IPアドレスは変更される可能性があります

3. **ファイアウォールの設定を確認**
   - Windowsファイアウォールでポート3000が許可されているか確認

4. **開発サーバーが起動しているか確認**
   - ターミナルに「Ready」と表示されているか確認
   - `http://localhost:3000`にPCからアクセスできるか確認

5. **ルーターの設定を確認**
   - 一部のルーターでは、デバイス間の通信が制限されている場合があります

## 注意事項

- 開発サーバー（`npm run dev`）は本番環境用ではありません
- 本番環境では`npm run build`と`npm start`を使用してください
- 外部ネットワーク（インターネット）からアクセスするには、ポートフォワーディングやVPNなどの追加設定が必要です

